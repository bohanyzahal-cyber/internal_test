<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>×˜×•×¤×¡ ×›×™×©×œ×•×Ÿ - ×˜×¡×˜ ×¤× ×™××™</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f4f4f4; padding: 20px; direction: rtl; }
        .form-container { max-width: 1100px; margin: auto; background: white; padding: 30px; border: 2px solid #000; box-shadow: 0 0 10px rgba(0,0,0,0.1); position: relative; }
        .header { text-align: center; border-bottom: 2px solid #000; margin-bottom: 10px; padding-bottom: 5px; }
        .header h1 { margin: 0; font-size: 24px; color: #1a3a1a; }
        .header h2 { margin: 2px 0; font-size: 18px; }
        .top-info { display: grid; grid-template-columns: 1.5fr 1fr; gap: 15px; margin-bottom: 10px; border-bottom: 1px solid #ddd; padding-bottom: 10px; }
        .vehicle-types { font-size: 12px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; border: 1px solid #ccc; padding: 5px; background: #f9f9f9; }
        .details-section { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-bottom: 15px; background: #fdfdfd; padding: 5px; border: 1px solid #eee; }
        .field { display: flex; flex-direction: column; gap: 2px; }
        .field label { font-weight: bold; font-size: 11px; color: #555; }
        input[type="text"], input[type="date"], input[type="time"] { border: 1px solid #ccc; border-radius: 3px; width: 100%; padding: 4px; font-family: inherit; font-size: 13px; font-weight: bold; background: #fff; }
        .main-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0; border: 2px solid #000; }
        .column { border: 0.5px solid #000; display: flex; flex-direction: column; }
        .column-title { background: #333; color: #fff; font-weight: bold; text-align: center; padding: 5px; border-bottom: 2px solid #000; font-size: 14px; }
        .row-item { display: flex; align-items: center; border-bottom: 1px solid #ccc; padding: 2px 5px; min-height: 28px; page-break-inside: avoid; flex-wrap: wrap; }
        .label-text { flex: 1; font-size: 12px; font-weight: 500; line-height: 1.1; min-width: 120px; }
        .score-select { width: 60px; font-size: 11px; margin-left: 5px; border: 1px solid #ccc; cursor: pointer; height: 22px; }
        .reason-select { display: none; width: 100%; margin-top: 4px; font-size: 12px; font-weight: bold; color: #b00; border: 1px solid #ffcccc; background: #fff5f5; padding: 3px; }
        .visual-box { width: 22px; height: 22px; border: 1px solid #000; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 16px; background: #fff; margin-right: 5px; flex-shrink: 0; }
        .v-mark { color: green; } .x-mark { color: red; } .ox-mark { color: red; width: 16px; height: 16px; border: 2px solid red; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 11px; }
        .footer { margin-top: 10px; display: flex; gap: 15px; }
        .notes-area { flex: 2; min-height: 80px; height: auto; border: 1px solid #000; padding: 5px; font-family: inherit; resize: none; font-size: 13px; line-height: 1.4; background: #fffff0; overflow: hidden; }
        .summary-box { flex: 1; display: flex; flex-direction: column; justify-content: space-between; gap: 5px; }
        .fail-stamp { border: 3px solid red; color: red; padding: 2px 10px; text-align: center; font-size: 20px; font-weight: bold; transform: rotate(-3deg); align-self: center; }
        .digital-sig-box { text-align: center; border: 1px dashed #999; padding: 2px; background: #fff; }
        canvas { cursor: crosshair; display: block; margin: 0 auto; }
        .clear-btn { background: #eee; border: 1px solid #ccc; font-size: 10px; padding: 2px 5px; cursor: pointer; margin-top: 2px; width: 100%; }
        .bottom-actions { text-align: center; margin-top: 20px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .btn-action { padding: 12px 25px; cursor: pointer; border: none; border-radius: 5px; font-weight: bold; font-size: 16px; color: white; display: flex; align-items: center; gap: 5px; }
        .btn-print { background: #c00; } .btn-back { background: #555; } .btn-whatsapp { background: #25D366; } .btn-later { background: #ff9800; color: #000; }

        /* ×›×¤×ª×•×¨ ×—×–×¨×” ×œ×“×•×— */
        .return-btn {
            position: fixed; top: 10px; right: 10px; z-index: 999;
            background: #28a745; color: white; padding: 10px 20px;
            border-radius: 5px; text-decoration: none; font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        @media print {
            @page { size: A4 landscape; margin: 5mm; }
            body { padding: 0; background: white; margin: 0; -webkit-print-color-adjust: exact; }
            .form-container { border: none; box-shadow: none; width: 100%; max-width: 100%; padding: 0; }
            .no-print, .bottom-actions, .score-select, .clear-btn, .reason-select, .return-btn { display: none !important; }
            .row-item { min-height: 20px; padding: 1px 4px; }
            .notes-area { border: 1px solid #000; overflow: visible; }
        }
    </style>
</head>
<body>

<a href="#" onclick="goBack()" class="return-btn no-print">â†© ×—×–×•×¨ ×œ×˜×¡×˜ ×¤× ×™××™</a>

<div class="form-container" autocomplete="off" id="mainForm">
    <div class="header">
        <h1>×˜×¡×˜ ×¤× ×™××™</h1>
        <h2>×ª×•×¦××•×ª ××‘×—×Ÿ ××¢×©×™ ×‘×¨×›×‘ (× ×›×©×œ)</h2>
    </div>

    <div class="top-info">
        <div class="vehicle-types">
            <label><input type="checkbox" class="save-state" id="vt_B"> ×¤×¨×˜×™/××¡×—×¨×™ (B)</label>
            <label><input type="checkbox" class="save-state" id="vt_C1"> ××©× ×§×œ (C1)</label>
            <label><input type="checkbox" class="save-state" id="vt_C"> ××©× ×›×‘×“ (C)</label>
            <label><input type="checkbox" class="save-state" id="vt_E"> ×’×•×¨×¨ ×ª×•××š (E)</label>
            <label><input type="checkbox" class="save-state" id="vt_D"> ××•×˜×•×‘×•×¡ (D)</label>
            <label><input type="checkbox" class="save-state" id="vt_A"> ××•×¤× ×•×¢ (A)</label>
            <label><input type="checkbox" class="save-state" id="vt_Taxi"> ××•× ×™×ª</label>
        </div>
        <div class="field" style="justify-content: center;">
            <label>×©× ×‘×™×ª ×”×¡×¤×¨ ×œ× ×”×™×’×”:</label>
            <input type="text" id="targetSchool" autocomplete="off">
        </div>
    </div>

    <div class="details-section">
        <div class="field"><label>×©× ××©×¤×—×”:</label><input type="text" id="targetLastName" autocomplete="off" oninput="updatePageTitle()"></div>
        <div class="field"><label>×©× ×¤×¨×˜×™:</label><input type="text" id="targetFirstName" autocomplete="off" oninput="updatePageTitle()"></div>
        <div class="field"><label>××¡' ××™×©×™ / ×ª"×–:</label><input type="text" id="targetID" autocomplete="off"></div>
        <div class="field"><label>×ª××¨×™×š ×”××‘×—×Ÿ:</label><input type="text" id="targetDate" autocomplete="off"></div>
        <div class="field"><label>××¡×¤×¨ ×¨×›×‘:</label><input type="text" id="targetCar" autocomplete="off"></div>
        <div class="field"><label>××•×¨×”:</label><input type="text" id="targetTeacher" autocomplete="off"></div>
    </div>

    <div class="main-grid">
        <div class="column">
            <div class="column-title">×. ×©×œ×™×˜×” ×‘×¨×›×‘</div>
            <div id="colA"></div>
        </div>
        <div class="column">
            <div class="column-title">×‘. ×”×ª× ×•×¢×”</div>
            <div id="colB"></div>
        </div>
        <div class="column">
            <div class="column-title">×’. ×”×“×¨×š</div>
            <div id="colC"></div>
        </div>
    </div>

    <div class="footer">
        <textarea id="finalNotes" class="notes-area save-state" autocomplete="off" placeholder="×”×¢×¨×•×ª ×”×‘×•×—×Ÿ ×™×•×¤×™×¢×• ×›××Ÿ ××•×˜×•××˜×™×ª..." oninput="autoResize(this); saveDraft()"></textarea>

        <div class="summary-box">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <div class="fail-stamp">× ×›×©×œ</div>
                <div class="field" style="width: 60%;"><label>×©× ×”×‘×•×—×Ÿ:</label><input type="text" id="targetTester" autocomplete="off"></div>
            </div>

            <div class="digital-sig-box">
                <canvas id="sig-canvas" width="250" height="60"></canvas>
                <div class="no-print"><button class="clear-btn" onclick="clearSig()">× ×§×” ×—×ª×™××”</button></div>
                <div style="font-size:10px; font-weight:bold;">×—×ª×™××ª ×”×‘×•×—×Ÿ</div>
            </div>
        </div>
    </div>

    <div class="bottom-actions no-print">
        <button class="btn-action btn-whatsapp" onclick="sendWhatsApp(false)">ğŸ“± ×©×œ×— ×œ××•×¨×”</button>
        <button class="btn-action btn-later" id="btnSaveLater" onclick="saveToOutbox()">â³ ×©××•×¨ ×œ×©×œ×™×—×” ×××•×—×¨×ª ×œ××•×¨×”</button>
        <button class="btn-action btn-print" onclick="window.print()">ğŸ–¨ï¸ ×”×“×¤×¡ / ×©××•×¨ PDF</button>
        <button class="btn-action btn-back" onclick="safeClose()">âœ– ×¡×’×•×¨ ×•×—×–×•×¨</button>
    </div>
</div>

<script>
    const reasonsDB = {
        "1. ×”×ª×—×œ×ª × ×¡×™×¢×”": ["×“×™××•× ×× ×•×¢ ×—×•×–×¨ ×•× ×©× ×” ×‘×ª×—×™×œ×ª × ×¡×™×¢×”","×”×©×ª×”×•×ª ×™×ª×¨ ×‘×™×¦×™××” ××”××§×•×","×”×ª×—×œ×ª × ×¡×™×¢×” ×§×•×¤×¦× ×™×ª / ×—×•×¡×¨ ×ª××•× ×‘×Ÿ ×××™×¥ ×œ××¦××“"],
        "2. ×©×œ×™×˜×” ×‘×”×’×”": ["××—×™×–×ª ×”×’×” ×©×’×•×™×” / ×¨×¤×•×™×”","×—×•×¡×¨ ×™×¦×™×‘×•×ª ×‘× ×ª×™×‘ (×–×™×’×–×’)","×¡×˜×™×™×” ×× ×ª×™×‘ ×œ×œ× ××™×ª×•×ª ××• ×¦×•×¨×š","×”×¤× ×™×•×ª ×”×’×” ××¢×‘×¨ ×œ× ×“×¨×© (×”×™×’×•×™ ×™×ª×¨/×—×“)","×ª×™×§×•× ×™ ×”×’×” ××•×’×–××™× ×‘×¤× ×™×•×ª"],
        "3. ×©×™××•×© ×‘××¦××“/×’×œ×™×©×”": ["×©×™××•×© ×™×ª×¨/××™×•×ª×¨ ×‘××¦××“","×’×œ×™×©×” ××¡×•×›× ×ª ×œ×ª×•×š ×¦×•××ª","×”×¢×œ××ª ×”×™×œ×•×š ×œ×œ× ×”×¤×¨×“×” (×—×¨×™×§×”)","×¨×’×œ × ×—×” ×¢×œ ×”××¦××“ ×‘×–××Ÿ × ×¡×™×¢×”"],
        "4. ×”×—×œ×¤×ª ×”×™×œ×•×›×™× ×‘××•×¢×“": ["× ×¡×™×¢×” ×‘×”×™×œ×•×š ×œ× ××ª××™× ×œ××”×™×¨×•×ª","××™×—×•×¨ ×‘×”×•×¨×“×ª ×”×™×œ×•×š ×‘×¢×œ×™×”/×¢×¦×™×¨×”","×”×•×¨×“×ª ×¢×™× ×™×™× ×œ×™×“×™×ª ×”×”×™×œ×•×›×™×"],
        "5. ×–×™× ×•×§ ×‘×¢×œ×™×”": ["×–×™× ×•×§ ×‘×¢×œ×™×” - ×”×“×¨×“×¨×•×ª ×œ××—×•×¨ (×”×ª×¢×¨×‘×•×ª)","×—×•×¡×¨ ×©×œ×™×˜×” ×‘× ×§×•×“×ª ×”×—×™×›×•×š (×›×™×‘×•×™ ×× ×•×¢)","×–×™× ×•×§ ×œ× ×–×”×™×¨ / ×§×•×¤×¦× ×™"],
        "6. ×©×™××•×© ×‘×‘×œ× ×¨×’×œ/×™×“": ["×‘×œ×™××” ×¤×ª××•××™×ª ×œ×œ× ×¦×•×¨×š","×‘×œ×™××” ×××•×—×¨×ª ××™×“×™","××™ ×©×—×¨×•×¨ ×‘×œ× ×™×“ ××œ×"],
        "7. ×©×œ×™×˜×” ×›×œ×œ×™×ª ×‘×¨×›×‘": ["×—×•×¡×¨ ×‘×™×˜×—×•×Ÿ ×‘×ª×¤×¢×•×œ ××¢×¨×›×•×ª ×”×¨×›×‘","× ×”×™×’×” ××”×•×¡×¡×ª ×•××™×˜×™×ª ×œ×œ× ×¦×•×¨×š","×—×•×¡×¨ ×©×œ×™×˜×” ×‘××¢×¨×›×•×ª ××©× ×™×•×ª (××™×ª×•×ª/××•×¨×•×ª/××’×‘×™×)"],
        "8. ××™×ª×•×ª": ["××™ ××ª×Ÿ ××™×ª×•×ª ×‘×¤× ×™×•×ª / ××¢×‘×¨ × ×ª×™×‘","××™×ª×•×ª ×œ×¦×“ ×”×¤×•×š","××™×ª×•×ª ×××•×—×¨ ××™×“×™ / ××™ ×‘×™×˜×•×œ ××™×ª×•×ª"],
        "9. × ×¡×™×¢×” ×œ××—×•×¨ (×—× ×™×”)": ["××•×‘×“×Ÿ ×©×œ×™×˜×” ×‘× ×¡×™×¢×” ×œ××—×•×¨ / ×¡×™×›×•×Ÿ ×œ×¨×›×•×©","×—× ×™×” ×‘××§×‘×™×œ ×œ×œ× ×”×¡×ª×›×œ×•×ª ×‘××¨××” ×”×©×××œ×™×ª","×—× ×™×” ×‘× ×™×¦×‘ ×œ×œ× ×”×¡×ª×›×œ×•×ª ×‘××¨××” ×”×©×××œ×™×ª","×¢×œ×™×” ×¢×œ ××“×¨×›×” ×‘××”×œ×š ×—× ×™×” ×œ××—×•×¨","×‘×™×¦×•×¢ ×—× ×™×” ×œ×œ× ×”×¦×œ×—×” / ×–××Ÿ ×¡×‘×™×¨ (××™×§×•× ×œ×§×•×™)","×—×•×¡×¨ ×”×ª××¦××•×ª ×‘××¨×—×‘ / ×™×•×ª×¨ ××™×“×™ ×ª×™×§×•× ×™×"],
        "10. ×¢×¦×™×¨×ª ××˜×¨×”": ["×¢×¦×™×¨×” ×œ× ××“×•×™×§×ª ×‘×§×• ×¢×¦×™×¨×”","×’×œ×™×©×” ××¢×‘×¨ ×œ×§×• ×”×¢×¦×™×¨×”"],
        "11. ×©×™××•×© ×‘×‘×œ××™ ×”××˜×”": ["××™ ×©×™××•×© ×‘×‘×œ× ×¢×–×¨ ×‘×™×¨×™×“×”"],
        "12. ××—×•×•× ×™× ×•××–×”×¨×”": ["×”×ª×¢×œ××•×ª ×× ×•×¨×•×ª ××–×”×¨×” ×‘×œ×•×— ×”×©×¢×•× ×™×"],
        "13. ××‘×™×–×¨×™ ×‘×˜×™×—×•×ª": ["××™ ×—×’×™×¨×ª ×—×’×•×¨×” / ××™ ×›×™×•×•×Ÿ ××¨××•×ª ×•××•×©×‘"],
        "14. × ×¡×™×¢×” ×œ××—×•×¨ ×‘×–×•×•×™×ª": ["×¡×˜×™×™×” ××”× ×ª×™×‘ ×‘× ×¡×™×¢×” ×œ××—×•×¨"],
        "15. ×”×ª×¨×ª ×•×¨×ª×™××ª ×’×¨×•×¨": ["×¡×“×¨ ×¤×¢×•×œ×•×ª ×©×’×•×™/×œ× ×‘×˜×™×—×•×ª×™ ×‘×—×™×‘×•×¨ ×’×¨×•×¨"],
        "1. ×–×”×™×¨×•×ª": ["×¤× ×™×” ×‘×¦×•××ª ×§××¥ ×œ×œ× ×”××˜×” ×•×‘×“×™×§×” ××¡×¤×§×ª (×§×œ×•×ª ×¨××©)","× ×”×™×’×” ×‘×—×•×¡×¨ ×–×”×™×¨×•×ª ×›×œ×œ×™","×—×•×¡×¨ ×ª×©×•××ª ×œ×‘ ×œ× ×¢×©×” ×‘×“×¨×š (×”×ª×¢×¨×‘×•×ª ×œ×× ×™×¢×ª ×ª××•× ×”)"],
        "2. ×”×¡×ª×›×œ×•×ª": ["×”× ×‘×—×Ÿ ××ª×§×¨×‘ ×œ××¢×’×œ ×•×™×•×¦× ×œ×œ× ×‘×“×™×§×” ×œ×™××™×Ÿ/××¨××•×ª","×—×¦×™×™×ª ×¦××ª×™× ×œ×œ× ×‘×“×™×§×” ××•×§×“××ª ×‘×–×¨×•×¢×•×ª ×”×¦×•××ª","××‘×˜ ××§×•×‘×¢ ×œ×¤× ×™× / ××™ ×¡×¨×™×§×ª ×¦××ª×™×","×©×™××•×© ××™× ×™××œ×™ ×‘××¨××•×ª ×‘××¢×‘×¨ × ×ª×™×‘ ×•×œ×§×¨××ª ×¤× ×™×”"],
        "3. ×©×™××•×© ×‘××¨××•×ª": ["×¤× ×™×” ×™××™× ×” ×œ×œ× ×‘×“×™×§×ª ××¨××” ×™×× ×™×ª (×œ×¤× ×™/×‘××”×œ×š/××—×¨×™)","××¢×‘×¨ ×œ× ×ª×™×‘ ×©×××œ ×œ×œ× ×‘×“×™×§×ª ××¨××” ×©×××œ×™×ª","××™ ×©×™××•×© ×‘××¨××•×ª ×œ×¤× ×™ ×‘×œ×™××”/×¤× ×™×”"],
        "4. ×”×©×ª×œ×‘×•×ª ×‘×ª× ×•×¢×”": ["×”× ×‘×—×Ÿ × ×™×¡×” ×œ×”×©×ª×œ×‘ ×•×’×¨× ×œ×¨×›×‘ ××—×¨ ×œ×”××˜/×œ×¡×˜×•×ª","× ×™×¡×™×•×Ÿ ×œ×”×©×ª×œ×‘ ×‘×ª× ×•×¢×” ×‘×›×‘×™×© ×‘×™×Ÿ-×¢×™×¨×•× ×™ ×‘×¦×•×¨×” ××¡×•×›× ×ª","×”×©×ª×œ×‘×•×ª ×‘××¢×’×œ ×ª× ×•×¢×” ×œ×œ× ×”×ª×™×™×—×¡×•×ª ×œ×ª× ×•×¢×” ×‘××¢×’×œ","×’×¨×™××ª ×”×¤×¨×¢×” ×œ×ª× ×•×¢×” ×‘×¢×ª ×”×©×ª×œ×‘×•×ª (×›× ×™×¡×” ×œ×¦×•××ª ×œ× ×¤× ×•×™)","× ×ª×™×‘ ××¡×ª×™×™× - ××™ ×‘×“×™×§×ª ××¨××•×ª ×•×”×©×ª×œ×‘×•×ª ×××•×—×¨×ª"],
        "5. ××ª×Ÿ ×–×›×•×ª ×§×“×™××”": ["××™ ××ª×Ÿ ×–×›×•×ª ×§×“×™××” ×œ×¨×›×‘ ××™××™×Ÿ / ×‘×“×¨×š / ×‘×¦×•××ª","×”× ×‘×—×Ÿ ×œ× ××‘×—×™×Ÿ ×‘×ª× ×•×¢×” ××©×ª×œ×‘×ª ××™××™×Ÿ ×œ××—×¨ ×¤× ×™×” ×©×××œ×”","××™ ××ª×Ÿ ×–×›×•×ª ×§×“×™××” ×œ×ª× ×•×¢×” ×××•×œ ×‘×¤× ×™×” ×©×××œ×”","××™ ××ª×Ÿ ×–×›×•×ª ×§×“×™××” ×‘×¢×ª ×™×¦×™××” ××—× ×™×” / ×¨×•×•×¨×¡"],
        "6. ××”×™×¨×•×ª": ["× ×¡×™×¢×” ×‘××”×™×¨×•×ª ××•×¤×¨×–×ª ×œ×ª× ××™ ×”×“×¨×š","× ×¡×™×¢×” ×‘××”×™×¨×•×ª ×©××™× ×” ×ª×•×××ª ×œ×ª× ××™ ×”×“×¨×š (×’×‘×•×”×” ××“×™)","× ×¡×™×¢×” ××™×˜×™×ª ××™×“×™ ×”××¢×›×‘×ª ×ª× ×•×¢×”"],
        "7. ×§×¦×‘ × ×¡×™×¢×”": ["×§×¦×‘ × ×¡×™×¢×” ××™×˜×™ ×•×”×¡×¡× ×™","×¢×™×›×•×‘ ×”×ª× ×•×¢×” ×©×œ× ×œ×¦×•×¨×š ×‘×›×‘×™×© ×‘×™×Ÿ ×¢×™×¨×•× ×™"],
        "8. ×©××™×¨×ª ×¨×•×•×—": ["××™ ×©××™×¨×ª ×¨×•×•×— ××¨×›×‘ ×•×”×ª× ×•×¢×” ×××•×œ","×”×¦××“×•×ª ××¡×•×›× ×ª ×œ×¨×›×‘ ××œ×¤× ×™× (××™ ×©××™×¨×ª ××¨×—×§)","××™ ×©××™×¨×ª ×¨×•×•×— ×¦×“ ×‘×¢×§×™×¤×”/××¤×’×©"],
        "9. ××•××“×Ÿ ×¨×•×—×‘": ["×”×ª×§×¨×‘×•×ª ××¡×•×›× ×ª ×œ×¨×›×‘ ×—×•× ×” ××™××™×Ÿ (×”×ª×¢×¨×‘×•×ª)","× ×¡×™×¢×” ×§×¨×•×‘×” ××™×“×™ ×œ××“×¨×›×” / ××™ ×ª× ×•×¢×”","××•××“× ×™ ×¨×•×—×‘ ×œ×§×•×™×™× ×‘×“×¨×š ×¦×¨×”"],
        "10. ×¢×§×™×¤×•×ª/× ××§×£": ["×—×•×¡×¨ ×–×”×™×¨×•×ª ×‘×¢×§×™×¤×” / ×”×¤×¨×¢×” ×œ×ª× ×•×¢×” ×××•×œ","×¢×§×™×¤×ª ×¨×›×‘ ×¢×•××“ ×œ×œ× ×‘×“×™×§×ª ××¨××” ×™×× ×™×ª ×‘×—×–×¨×”","×œ× ×©× ×œ×‘ ×©× ×¢×§×£ ×•×œ× ××™×¤×©×¨ ×—×–×¨×” (×”××¦×”)","×¢×§×™×¤×” ×‘×“×¨×š ×œ× ×¤× ×•×™×”/××¡×•×›× ×ª"],
        "11. × ×”×™×’×ª ×œ×™×œ×”/××•×¨×•×ª": ["××™ ×”×“×œ×§×ª ××•×¨×•×ª / ×¡×™× ×•×•×¨ ×¨×›×‘ ×××•×œ"],
        "12. ×™×¨×™×“×” ×œ×©×•×œ": ["×™×¨×™×“×” ××¡×•×›× ×ª ×œ×©×•×œ / ×—×–×¨×” ×œ× ×–×”×™×¨×” ×œ×›×‘×™×©"],
        "1. ×¤× ×™×•×ª ×™××™× ×”": ["×¤× ×™×” ×™××™× ×” ×‘×§×©×ª ×¨×—×‘×” ×•×’×œ×™×©×” ×œ× ×ª×™×‘ × ×’×“×™ (×”×ª×¢×¨×‘×•×ª)","×¢×œ×™×” ×¢×œ ××“×¨×›×” ×‘×¤× ×™×” ×™××™× ×”","×›× ×™×¡×” ×œ× ×ª×™×‘ ×œ× × ×›×•×Ÿ ×‘×¤× ×™×”","×¤× ×™×” ×™××™× ×” ×©×œ× ×¢×¤\"×™ ×”×¡×™××•×Ÿ ×‘×“×¨×š"],
        "2. ×¤× ×™×•×ª ×©×××œ×”": ["× ×™×¡×™×•×Ÿ ×¤× ×™×” ×©×××œ×” ×œ× ×ª×™×‘ ×”× ×’×“×™ (×”×ª×¢×¨×‘×•×ª)","×¤× ×™×” ×©×××œ×” ×‘×§×©×ª ×§×¦×¨×” ××™×“×™ (×¡×™×›×•×Ÿ ××™ ×ª× ×•×¢×”/×ª××¨×•×¨)","×¢×œ×™×” ×¢×œ ××™ ×ª× ×•×¢×” ×‘×¤× ×™×” ×©×××œ×”","×¤× ×™×” ×©×××œ×” ×œ×—×“ ×¡×˜×¨×™ - ×œ× ×œ× ×ª×™×‘ ×”×©×××œ×™","×¤× ×™×” ×©×××œ×” ××—×“ ×¡×˜×¨×™ - ×œ× ××”×¦×“ ×”×©×××œ×™","× ×™×¡×™×•×Ÿ ×œ×¤× ×•×ª ×©×××œ×” ×× ×ª×™×‘ ×œ× × ×›×•×Ÿ"],
        "3. ××™×§×•× ×‘××¤×’×©×™×": ["×—×¦×™×™×ª ×¦×•××ª ×‘×—×•×¡×¨ ×–×”×™×¨×•×ª ×œ×œ× ×‘×§×¨×” ××¡×¤×§×ª","×—×•×¡×¨ ×™×“×¢ ×‘×¡×“×¨×™ ×ª× ×•×¢×” ×‘×¦×•××ª (×–×›×•×ª ×§×“×™××”)","×›× ×™×¡×” ×œ×¦×•××ª ×œ× ×¤× ×•×™ (×—×¡×™××ª ×”×ª× ×•×¢×”)","×¢×¦×™×¨×” ×‘×ª×•×š ×”×¦×•××ª"],
        "4. ××©××¢×ª ×‘× ×ª×™×‘×™×": ["××¢×‘×¨ × ×ª×™×‘ ×œ×œ× ×‘×§×¨×” (×’×¨×™××ª ×”×¤×¨×¢×”)","×¢×–×™×‘×ª × ×ª×™×‘ ×”×™××™×Ÿ ×œ×œ× ×¦×•×¨×š (× ×¡×™×¢×” ×‘×©×××œ)","×”× ×‘×—×Ÿ ×œ× ×—×•×–×¨ ×œ× ×ª×™×‘ ×”×™×× ×™ ×œ××—×¨ ×¤× ×™×”/×¢×§×™×¤×”","××©××¢×ª × ×ª×™×‘×™× ×œ×§×•×™×” ×‘××¢×’×œ ×ª× ×•×¢×”","×¡×˜×™×™×” ×× ×ª×™×‘ ×”× ×¡×™×¢×” / × ×¡×™×¢×” ×¢×œ ×§×• ×”×”×¤×¨×“×”"],
        "5. ×¦×™×•×ª ×œ×ª××¨×•×¨×™×": ["××™ ×¢×¦×™×¨×” ×‘×ª××¨×•×¨ ×¢×¦×•×¨ (×”×ª×¢×¨×‘×•×ª)","××™ ×¦×™×•×ª ×œ×ª××¨×•×¨ ××™×Ÿ ×›× ×™×¡×” / ×—×¥ × ×ª×™×‘"],
        "6. ×¦×™×•×ª ×œ×¨××–×•×¨×™×": ["× ×™×¡×™×•×Ÿ ×œ×¢×‘×•×¨ ×¦×•××ª ×‘××•×¨ ××“×•× (×”×ª×¢×¨×‘×•×ª)","×—×¦×™×™×ª ×§×• ×¢×¦×™×¨×” ×‘××•×¨ ××“×•×/×¦×”×•×‘"],
        "7. × ×¡×™×¢×” ×‘×™××™×Ÿ ×”×“×¨×š": ["××™ ×”×™×¦××“×•×ª ×œ×™××™×Ÿ ×‘×›×‘×™×© ×“×•-×¡×˜×¨×™","× ×¡×™×¢×” ×‘× ×ª×™×‘ ×©×××œ×™ ×©×œ× ×œ×¦×•×¨×š ×¢×§×™×¤×”"],
        "8. ×“×¨×š ×©××™× ×” ×¢×™×¨×•× ×™×ª": ["× ×”×™×’×” ×œ× ××•×ª×××ª ×œ×“×¨×š ×‘×™×Ÿ-×¢×™×¨×•× ×™×ª (××”×™×¨×•×ª/××™×§×•×)"],
        "9. ×”×ª×™×™×—×¡×•×ª ×œ×”×•×œ×›×™ ×¨×’×œ": ["×—×•×¡×¨ ×–×”×™×¨×•×ª ×‘×”×ª×§×¨×‘×•×ª ×œ××¢×‘×¨ ×—×¦×™×”","××™ ××ª×Ÿ ×–×›×•×ª ×§×“×™××” ×œ×”×•×œ×š ×¨×’×œ ×‘××¢×‘×¨ ×—×¦×™×” (×”×ª×¢×¨×‘×•×ª)","×¢×¦×™×¨×” ×‘×ª×—×•× ××¢×‘×¨ ×”×—×¦×™×”"],
        "10. × ×ª×™×‘ ×”××¦×”/×”××˜×”": ["×›× ×™×¡×” ×œ× ×–×”×™×¨×” ×× ×ª×™×‘ ×”××¦×”","×‘×œ×™××” ×‘× ×ª×™×‘ × ×¡×™×¢×” ×œ×¤× ×™ ×›× ×™×¡×” ×œ× ×ª×™×‘ ×”××˜×”"],
        "11. × ×”×™×’×” ×‘×“×¨×š ×¦×¨×”": ["× ×™×¡×™×•×Ÿ ×¤× ×™×” ×©×××œ×” ×œ× ×ª×™×‘ × ×’×“×™ ×‘×“×¨×š ×¦×¨×” (×”×ª×¢×¨×‘×•×ª)","×—×•×¡×¨ ×–×”×™×¨×•×ª ×‘××¤×’×© ×¢× ×¨×›×‘ ×××•×œ ×‘×“×¨×š ×¦×¨×”"],
        "12. ×›×‘×™×© ×¨×˜×•×‘": ["× ×¡×™×¢×” ××”×™×¨×” ××™×“×™ ×œ×ª× ××™ ×”××—×™×–×”"]
    };

    const dataA = Object.keys(reasonsDB).slice(0, 15);
    const dataB = Object.keys(reasonsDB).slice(15, 27);
    const dataC = Object.keys(reasonsDB).slice(27);

    // ××–×”×” ×™×™×—×•×“×™ ×œ×©××™×¨×ª ×˜×™×•×˜×” (×œ×¤×™ ×ª.×–)
    let draftKey = '';

    function resetAllFields() {
        // ××™×¤×•×¡ ××•×—×œ×˜ ×©×œ ×›×œ ×”×˜×•×¤×¡
        document.querySelectorAll('input[type="text"], input[type="time"], textarea').forEach(el => { el.value = ''; el.setAttribute('value', ''); });
        document.querySelectorAll('input[type="checkbox"]').forEach(el => { el.checked = false; });
        document.querySelectorAll('.score-select').forEach(sel => { sel.selectedIndex = 0; });
        document.querySelectorAll('.reason-select').forEach(sel => { sel.selectedIndex = 0; sel.style.display = 'none'; });
        document.querySelectorAll('.visual-box').forEach(box => { box.innerHTML = ''; });
        draftKey = '';
        try { clearSig(); } catch(e) {}
    }

    function fillFromUrl() {
        const urlParams = new URLSearchParams(window.location.search);

        const fields = {
            'school': 'targetSchool', 'id': 'targetID', 'car': 'targetCar',
            'date': 'targetDate', 'tester': 'targetTester', 'teacher': 'targetTeacher'
        };
        for(let key in fields) {
            if(urlParams.has(key)) document.getElementById(fields[key]).value = urlParams.get(key);
        }

        if(urlParams.has('name')) {
            const fullName = urlParams.get('name').trim();
            const idx = fullName.indexOf(' ');
            if (idx > 0) {
                document.getElementById('targetFirstName').value = fullName.substring(0, idx);
                document.getElementById('targetLastName').value = fullName.substring(idx + 1);
            } else {
                document.getElementById('targetFirstName').value = fullName;
            }
            updatePageTitle();
        } else {
            document.title = '×˜×•×¤×¡ ×›×™×©×œ×•×Ÿ - ×˜×¡×˜ ×¤× ×™××™';
        }

        // ×©××™×¨×ª ×˜×™×•×˜×” ×œ×¤×™ ×©× ×”× ×‘×—×Ÿ
        const draftName = urlParams.get('name') || '';
        if(draftName.trim()) {
            draftKey = 'draft_' + draftName.trim();
            // ×©×—×–×•×¨ ×˜×™×•×˜×” ×¨×§ ×× ×”×’×™×¢×• ×¢× ×¤×¨××˜×¨ restore=1
            if(urlParams.get('restore') === '1') {
                restoreDraft();
            }
        }
    }

    window.onload = function() {
        // ×‘×•× ×” ××ª ×”×˜×•×¨×™×
        renderColumn('colA', dataA);
        renderColumn('colB', dataB);
        renderColumn('colC', dataC);

        // ××™×¤×•×¡ ×•××™×œ×•×™ ××”-URL
        resetAllFields();
        fillFromUrl();

        // ××¢×§×‘ ××—×¨×™ ×©×™× ×•×™×™× ×œ×©××™×¨×”
        document.querySelectorAll('input, textarea, select').forEach(el => {
            el.addEventListener('change', saveDraft);
            el.addEventListener('input', saveDraft);
        });
    };

    // ×¤×•× ×§×¦×™×™×ª ×—×–×¨×” ×—×›××” - ×—×•×–×¨ ×œ×˜×¡×˜ ×¤× ×™××™
    function goBack() {
        const dashboard = window.open('', 'internal_test_dashboard');
        if (dashboard && dashboard.location.href !== 'about:blank') {
            dashboard.focus();
        } else {
            window.open('internal_test.html', 'internal_test_dashboard');
        }
    }

    // ×¤×•× ×§×¦×™×™×ª ×¡×’×™×¨×” ×‘×˜×•×—×” - ×—×•×–×¨ ×œ×˜×¡×˜ ×¤× ×™××™
    function safeClose() {
        saveDraft(); // ×©××™×¨×” ××—×¨×•× ×”

        // × ×¡×™×•×Ÿ ×œ××¦×•× ××ª ×”×—×œ×•×Ÿ ×”×¨××©×™ ×•×œ×”×ª××§×“ ×‘×•
        const dashboard = window.open('', 'internal_test_dashboard');
        if (dashboard && dashboard.location.href !== 'about:blank') {
            dashboard.focus();
        }

        // ×¡×’×™×¨×ª ×”×—×œ×•×Ÿ ×”× ×•×›×—×™
        window.close();

        // ×× ×”×¡×’×™×¨×” × ×—×¡××” ×¢"×™ ×”×“×¤×“×¤×Ÿ, × × ×•×•×˜ ×—×–×¨×” ×œ×˜×¡×˜ ×¤× ×™××™
        if (!window.closed) {
            window.location.href = 'internal_test.html';
        }
    }

    function saveDraft() {
        if(!draftKey) return;
        const data = { scores: {}, reasons: {}, notes: document.getElementById('finalNotes').value, vehicleTypes: {} };

        document.querySelectorAll('.score-select').forEach((sel, i) => { if(sel.value) data.scores[i] = sel.value; });
        document.querySelectorAll('.save-state[type="checkbox"]').forEach(cb => { data.vehicleTypes[cb.id] = cb.checked; });

        localStorage.setItem(draftKey, JSON.stringify(data));
    }

    function restoreDraft() {
        if(!draftKey) return;
        const data = JSON.parse(localStorage.getItem(draftKey));
        if(!data) return;

        if(data.notes) document.getElementById('finalNotes').value = data.notes;

        // ×©×—×–×•×¨ ×¦×™×•× ×™×
        const selects = document.querySelectorAll('.score-select');
        if(data.scores) {
            Object.keys(data.scores).forEach(idx => {
                if(selects[idx]) {
                    selects[idx].value = data.scores[idx];
                    markIcon(selects[idx]);
                }
            });
        }

        // ×©×—×–×•×¨ ×¡×•×’×™ ×¨×›×‘
        if(data.vehicleTypes) {
            Object.keys(data.vehicleTypes).forEach(id => {
                const el = document.getElementById(id);
                if(el) el.checked = data.vehicleTypes[id];
            });
        }
    }

    function renderColumn(id, list) {
        const container = document.getElementById(id);
        list.forEach(item => {
            const div = document.createElement('div');
            div.className = 'row-item';
            let options = `<option value="">×‘×—×¨ ×¤×™×¨×•×˜...</option>`;
            if (reasonsDB[item]) {
                reasonsDB[item].forEach(reason => { options += `<option value="${reason}">${reason}</option>`; });
            }
            div.innerHTML = `
                <div style="flex:1; display:flex; flex-direction:column; justify-content:center;">
                    <span class="label-text">${item}</span>
                    <select class="reason-select" onchange="toggleReason(this, '${item}')">
                        ${options}<option value="××—×¨">×”×§×œ×“×” ×™×“× ×™×ª / ××—×¨</option>
                    </select>
                </div>
                <select class="score-select no-print" onchange="markIcon(this); saveDraft()">
                    <option value="">×‘×—×¨</option><option value="v">×˜×•×‘ (âœ“)</option><option value="x">×¨×¢ (X)</option><option value="ox">×”×¤×§×¢×” (âŠ—)</option>
                </select>
                <div class="visual-box"></div>
            `;
            container.appendChild(div);
        });
    }

    function markIcon(sel) {
        const box = sel.nextElementSibling;
        const rowItem = sel.parentElement;
        const reasonSelect = rowItem.querySelector('.reason-select');
        const val = sel.value;
        box.innerHTML = '';
        if (val === 'v') {
            box.innerHTML = '<span class="v-mark">âœ“</span>';
            reasonSelect.style.display = 'none'; reasonSelect.value = "";
        } else if (val === 'x') {
            box.innerHTML = '<span class="x-mark">âœ•</span>';
            reasonSelect.style.display = 'block';
        } else if (val === 'ox') {
            box.innerHTML = '<div class="ox-mark">âœ•</div>';
            reasonSelect.style.display = 'block';
        } else {
            reasonSelect.style.display = 'none'; reasonSelect.value = "";
        }
    }

    function toggleReason(selectElem, category) {
        const val = selectElem.value;
        if (!val) return;

        const rawLabel = selectElem.parentElement.querySelector('.label-text').innerText;
        const cleanLabel = rawLabel.replace(/^\d+\.\s*/, '');

        let formattedReason = "";
        if (val === "××—×¨") formattedReason = `â€¢ ${cleanLabel}: `;
        else formattedReason = `â€¢ ${cleanLabel}: ${val}`;

        const notesArea = document.getElementById('finalNotes');
        let currentText = notesArea.value;

        if (currentText.includes(formattedReason)) {
            currentText = currentText.replace(formattedReason + '\n', '');
            currentText = currentText.replace(formattedReason, '');
        } else {
            if(currentText && !currentText.endsWith('\n')) currentText += '\n';
            currentText += formattedReason + '\n';
        }

        notesArea.value = currentText;
        selectElem.value = "";
        autoResize(notesArea);
        saveDraft();
    }

    function autoResize(textarea) {
        textarea.style.height = 'auto'; textarea.style.height = (textarea.scrollHeight + 5) + 'px';
    }

    // ×§×˜×’×•×¨×™×•×ª ×˜×•×¤×¡ ×›×™×©×œ×•×Ÿ - ×œ×¤×™ ×”×¡×“×¨ ×‘×˜×•×¤×¡
    const failCategories = [
        // A - ×©×œ×™×˜×” ×‘×¨×›×‘ (15)
        '×”×ª×—×œ×ª × ×¡×™×¢×”','×©×œ×™×˜×” ×‘×”×’×”','×©×™××•×© ×‘××¦××“/×’×œ×™×©×”','×”×—×œ×¤×ª ×”×™×œ×•×›×™× ×‘××•×¢×“','×–×™× ×•×§ ×‘×¢×œ×™×”',
        '×©×™××•×© ×‘×‘×œ× ×¨×’×œ/×™×“','×©×œ×™×˜×” ×›×œ×œ×™×ª ×‘×¨×›×‘','××™×ª×•×ª','× ×¡×™×¢×” ×œ××—×•×¨ (×—× ×™×”)','×¢×¦×™×¨×ª ××˜×¨×”',
        '×©×™××•×© ×‘×‘×œ××™ ×”××˜×”','××—×•×•× ×™× ×•××–×”×¨×”','××‘×™×–×¨×™ ×‘×˜×™×—×•×ª','× ×¡×™×¢×” ×œ××—×•×¨ ×‘×–×•×•×™×ª','×”×ª×¨×ª ×•×¨×ª×™××ª ×’×¨×•×¨',
        // B - ×”×ª× ×•×¢×” (12)
        '×–×”×™×¨×•×ª','×”×¡×ª×›×œ×•×ª','×©×™××•×© ×‘××¨××•×ª','×”×©×ª×œ×‘×•×ª ×‘×ª× ×•×¢×”','××ª×Ÿ ×–×›×•×ª ×§×“×™××”',
        '××”×™×¨×•×ª','×§×¦×‘ × ×¡×™×¢×”','×©××™×¨×ª ×¨×•×•×—','××•××“×Ÿ ×¨×•×—×‘','×¢×§×™×¤×•×ª/× ××§×£',
        '× ×”×™×’×ª ×œ×™×œ×”/××•×¨×•×ª','×™×¨×™×“×” ×œ×©×•×œ',
        // C - ×”×“×¨×š (12)
        '×¤× ×™×•×ª ×™××™× ×”','×¤× ×™×•×ª ×©×××œ×”','××™×§×•× ×‘××¤×’×©×™×','××©××¢×ª ×‘× ×ª×™×‘×™×','×¦×™×•×ª ×œ×ª××¨×•×¨×™×',
        '×¦×™×•×ª ×œ×¨××–×•×¨×™×','× ×¡×™×¢×” ×‘×™××™×Ÿ ×”×“×¨×š','×“×¨×š ×©××™× ×” ×¢×™×¨×•× ×™×ª','×”×ª×™×™×—×¡×•×ª ×œ×”×•×œ×›×™ ×¨×’×œ',
        '× ×ª×™×‘ ×”××¦×”/×”××˜×”','× ×”×™×’×” ×‘×“×¨×š ×¦×¨×”','×›×‘×™×© ×¨×˜×•×‘'
    ];

    function getFailReasons() {
        const reasons = [];
        document.querySelectorAll('.score-select').forEach((sel, i) => {
            if(sel.value === 'x' || sel.value === 'ox') {
                const catName = failCategories[i] || `×§×˜×’×•×¨×™×” ${i+1}`;
                // ×©×œ×•×£ ×’× ××ª ×”×¤×™×¨×•×˜ ×”× ×‘×—×¨
                const rowItem = sel.parentElement;
                const reasonSelect = rowItem.querySelector('.reason-select');
                const detail = (reasonSelect && reasonSelect.value && reasonSelect.value !== '××—×¨') ? reasonSelect.value : '';
                reasons.push({ name: catName, severe: sel.value === 'ox', detail: detail });
            }
        });
        return reasons;
    }

    // RTL markers ×œ×•×•××˜×¡××¤
    const RLM = '\u200F';  // Right-to-Left Mark
    const RLE = '\u202B';  // Right-to-Left Embedding

    function sendWhatsApp(textOnly) {
        const nameFirst = document.getElementById('targetFirstName').value || '';
        const nameLast = document.getElementById('targetLastName').value || '';
        const school = document.getElementById('targetSchool').value || '';
        const tester = document.getElementById('targetTester').value || '';
        const teacher = document.getElementById('targetTeacher').value || '';
        const notes = document.getElementById('finalNotes').value || '';
        const fullName = `${nameFirst} ${nameLast}`;

        if(!fullName.trim()) { alert('×× × ×•×•×“× ×©×©× ×”× ×‘×—×Ÿ ××œ×'); return; }
        if(!teacher.trim()) { alert('×× × ×•×•×“× ×©×©× ×”××•×¨×” ××œ×'); return; }

        let msg = RLE + `*×”×•×“×¢×ª ×›×™×©×œ×•×Ÿ - ×˜×¡×˜ ×¤× ×™××™* âŒ\n`;
        msg += RLE + `×©× ×”× ×‘×—×Ÿ: ${fullName}\n`;
        if(school) msg += RLE + `×‘×™"×¡: ${school}\n`;
        if(tester) msg += RLE + `×‘×•×—×Ÿ: ${tester}\n`;
        msg += RLE + `${RLM}ğŸ‘¨â€ğŸ« ${RLM}*××•×¨×”: ${teacher}*\n`;
        msg += `----------------\n`;

        if(notes) {
            msg += RLE + `*×¤×™×¨×•×˜ ×œ×™×§×•×™×™×:*\n${notes}\n`;
            msg += `----------------\n`;
        }
        msg += RLE + `×ª××¨×™×š: ${new Date().toLocaleDateString('he-IL')}`;

        if(textOnly) return msg;

        const url = `https://api.whatsapp.com/send?text=${encodeURIComponent(msg)}`;
        window.open(url, '_blank');
    }

    // ×©××™×¨×” ×œ×“×•××¨ ×™×•×¦× ×©×œ ×”×˜×¡×˜ ×”×¤× ×™××™
    function saveToOutbox() {
        const msg = sendWhatsApp(true);
        if(!msg) return;
        const fullName = document.getElementById('targetFirstName').value + ' ' + document.getElementById('targetLastName').value;
        const savedMessages = JSON.parse(localStorage.getItem('internal_whatsapp_outbox')) || [];
        savedMessages.push({ name: fullName, text: msg, time: new Date().toLocaleTimeString('he-IL', {hour: '2-digit', minute:'2-digit'}) });
        localStorage.setItem('internal_whatsapp_outbox', JSON.stringify(savedMessages));

        const btn = document.getElementById('btnSaveLater');
        const originalText = btn.innerText;
        btn.innerText = "âœ… × ×©××¨!";
        btn.style.background = "#28a745";
        setTimeout(() => { btn.innerText = originalText; btn.style.background = "#ff9800"; }, 3000);
    }

    // renderColumn × ×§×¨× ××ª×•×š fullReset ×‘-window.onload

    const canvas = document.getElementById('sig-canvas');
    const ctx = canvas.getContext('2d');
    let drawing = false;
    const getPos = (e) => { const r = canvas.getBoundingClientRect(); return { x: (e.clientX || e.touches[0].clientX) - r.left, y: (e.clientY || e.touches[0].clientY) - r.top }; };
    canvas.addEventListener('mousedown', (e) => { drawing = true; ctx.beginPath(); ctx.moveTo(getPos(e).x, getPos(e).y); });
    canvas.addEventListener('mousemove', (e) => { if(!drawing)return; ctx.lineTo(getPos(e).x, getPos(e).y); ctx.stroke(); });
    canvas.addEventListener('mouseup', () => { drawing = false; });
    canvas.addEventListener('touchstart', (e) => { drawing = true; ctx.beginPath(); ctx.moveTo(getPos(e).x, getPos(e).y); e.preventDefault(); });
    canvas.addEventListener('touchmove', (e) => { if(!drawing)return; ctx.lineTo(getPos(e).x, getPos(e).y); ctx.stroke(); e.preventDefault(); });
    canvas.addEventListener('touchend', () => { drawing = false; });
    function clearSig() { ctx.clearRect(0, 0, canvas.width, canvas.height); }

    function updatePageTitle() {
        const first = document.getElementById('targetFirstName').value;
        const last = document.getElementById('targetLastName').value;
        if(first || last) document.title = "×›×™×©×œ×•×Ÿ ×¤× ×™××™ - " + first + " " + last;
    }
</script>

</body>
</html>